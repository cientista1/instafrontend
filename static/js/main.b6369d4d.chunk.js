(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{120:function(e,t){},123:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(54),o=a.n(r),i=a(14),s=a(1),l=a(7),u=a.n(l),p=a(15),m=a(64),d=a(16),h=a(17),f=a(18),g=a(19),E=(a(71),a(55)),v="https://instabackend1.herokuapp.com",b=a.n(E).a.create({baseURL:v}),k=a(56),y=a.n(k),x=a(57),C=a.n(x),j=a(58),w=a.n(j),O=a(59),S=a.n(O),N=a(60),A=a.n(N),D=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={feed:[]},e.RegisterToSocket=function(){var t=A()(v);t.on("post",(function(t){e.setState({feed:[t].concat(Object(m.a)(e.state.feed))})})),t.on("like",(function(t){e.setState({feed:e.state.feed.map((function(e){return e._id===t._id?t:e}))})}))},e.handleLike=function(e){b.post("posts/".concat(e,"/like"))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("posts");case 2:t=e.sent,this.setState({feed:t.data}),this.RegisterToSocket();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return c.a.createElement("section",{id:"post-list"},this.state.feed.map((function(t){return c.a.createElement("article",{key:t._id},c.a.createElement("header",null,c.a.createElement("div",{className:"user-info"},c.a.createElement("span",null,t.author),c.a.createElement("span",{className:"place"}," ",t.place)),c.a.createElement("img",{src:y.a,alt:"Mais"})),c.a.createElement("img",{src:"".concat("https://raw.githubusercontent.com/cientista1/instabackend/master/uploads/resized/").concat(t.image),alt:"imagem"}),c.a.createElement("footer",null,c.a.createElement("div",{className:"actions"},c.a.createElement("button",{type:"button",onClick:function(){return e.handleLike(t._id)}},c.a.createElement("img",{src:C.a,alt:""})),c.a.createElement("img",{src:w.a,alt:""}),c.a.createElement("img",{src:S.a,alt:""})),c.a.createElement("strong",null,t.likes," curtidas"),c.a.createElement("p",null,t.description,c.a.createElement("span",null,t.hashtags))))})))}}]),a}(n.Component),L=(a(123),function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={image:null,author:"",place:"",description:"",hashtags:""},e.handleSubmit=function(){var t=Object(p.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("image",e.state.image),n.append("author",e.state.author),n.append("place",e.state.place),n.append("description",e.state.description),n.append("hashtags",e.state.hashtags),console.log(e.state.image),t.next=10,b.post("posts",n);case 10:e.props.history.push("/");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.handleimageChange=function(t){e.setState({image:t.target.files[0]})},e}return Object(h.a)(a,[{key:"render",value:function(){return c.a.createElement("form",{id:"new-post",onSubmit:this.handleSubmit},c.a.createElement("input",{type:"file",onChange:this.handleimageChange}),c.a.createElement("input",{type:"text",name:"author",placeholder:"Autor do post",onChange:this.handleChange}),c.a.createElement("input",{type:"text",name:"place",placeholder:"Local do post",onChange:this.handleChange}),c.a.createElement("input",{type:"text",name:"description",placeholder:"Descri\xe7\xe3o do Post",onChange:this.handleChange}),c.a.createElement("input",{type:"text",name:"hashtags",placeholder:"Hashtags do post",onChange:this.handleChange}),c.a.createElement("button",{type:"submit"},"Enviar"))}}]),a}(n.Component));var R=function(){return c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/",exact:!0,component:D}),c.a.createElement(s.a,Object(i.a)({path:"/new",component:!0},"component",L)))},_=a(6),M=(a(128),a(62)),J=a.n(M),T=a(63),z=a.n(T);function B(){return c.a.createElement("div",{id:"main-header"},c.a.createElement("div",{className:"header-content"},c.a.createElement(_.b,{to:"/"},c.a.createElement("img",{src:J.a,alt:"instaRockect"})),c.a.createElement(_.b,{to:"/new"},c.a.createElement("img",{src:z.a,alt:"enviar publica\xe7\xe3o"}))))}var F=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(_.a,null,c.a.createElement(B,null),c.a.createElement(R,null)))};a(129);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(F,null)),document.getElementById("root"))},56:function(e,t,a){e.exports=a.p+"static/media/more.22d960a9.svg"},57:function(e,t,a){e.exports=a.p+"static/media/like.00e13584.svg"},58:function(e,t,a){e.exports=a.p+"static/media/comment.e2a49935.svg"},59:function(e,t,a){e.exports=a.p+"static/media/send.55e74cfd.svg"},62:function(e,t,a){e.exports=a.p+"static/media/logo.83fd0bcc.svg"},63:function(e,t,a){e.exports=a.p+"static/media/camera.787c6af9.svg"},65:function(e,t,a){e.exports=a(130)},71:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.b6369d4d.chunk.js.map