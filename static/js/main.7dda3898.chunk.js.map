{"version":3,"sources":["services/api.js","Pages/Feed.js","Pages/News.js","routes.js","components/Header.js","App.js","index.js","assets/more.svg","assets/like.svg","assets/comment.svg","assets/send.svg","assets/logo.svg","assets/camera.svg"],"names":["url","api","axios","create","baseURL","Feed","state","feed","RegisterToSocket","socket","io","on","newPost","setState","likedPost","map","post","_id","handleLike","id","get","response","this","data","key","className","author","place","src","more","alt","image","type","onClick","like","comment","send","likes","description","hashtags","Component","News","handleSubmit","e","a","preventDefault","FormData","append","console","log","props","history","push","handleChange","target","name","value","handleimageChange","files","onSubmit","onChange","placeholder","Routes","path","exact","component","Header","to","logo","camera","App","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.7dda3898.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\n\r\n\r\nexport const url = 'https://instabackend1.herokuapp.com'\r\n\r\nexport const url_image = 'https://raw.githubusercontent.com/cientista1/instabackend/master/uploads/resized/';\r\nconst api = axios.create({\r\n    baseURL: url,\r\n})\r\n\r\nexport default api;","import React, { Component } from 'react';\r\nimport \"./Feed.css\";\r\nimport api,{url, url_image} from \"../services/api\";\r\nimport more from \"../assets/more.svg\";\r\nimport like from \"../assets/like.svg\";\r\nimport comment from \"../assets/comment.svg\";\r\nimport send from \"../assets/send.svg\";\r\nimport io from \"socket.io-client\";\r\n\r\n\r\nclass Feed extends Component {\r\n\r\n    state = {\r\n        feed: [],\r\n    }\r\n    async componentDidMount() {\r\n        const response = await api.get('posts');\r\n        this.setState({ feed: response.data });\r\n        this.RegisterToSocket();\r\n    }\r\n\r\n    RegisterToSocket =  () =>{\r\n        const socket = io(url)\r\n        socket.on('post', newPost=>{\r\n            this.setState({feed : [newPost, ... this.state.feed]});\r\n        })\r\n        socket.on('like', likedPost =>{\r\n            this.setState({\r\n                feed: this.state.feed.map(post => \r\n                    post._id === likedPost._id ? likedPost : post    \r\n                )\r\n            })\r\n        })\r\n        \r\n    }\r\n    handleLike = id =>{\r\n        api.post(`posts/${id}/like`);\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section id=\"post-list\">\r\n                {this.state.feed.map(post => (\r\n                    <article key={post._id}>\r\n                        <header>\r\n                            <div className=\"user-info\">\r\n                                <span>{post.author}</span>\r\n                                <span className=\"place\"> {post.place}</span>\r\n                            </div>\r\n                            <img src={more} alt=\"Mais\" />\r\n                        </header>\r\n                        <img src={`${url_image}${post.image}`} alt=\"imagem\" />\r\n                        <footer>\r\n                            <div className=\"actions\">\r\n                                <button type=\"button\" onClick={()=>this.handleLike(post._id)} >\r\n                                    <img src={like} alt=\"\" />\r\n                                </button>\r\n                                <img src={comment} alt=\"\" />\r\n                                <img src={send} alt=\"\" />\r\n                            </div>\r\n                            <strong>{post.likes} curtidas</strong>\r\n                            <p>{post.description}\r\n                                <span>{post.hashtags}</span>\r\n                            </p>\r\n                        </footer>\r\n                    </article>\r\n                ))}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Feed;","import React, { Component } from 'react';\r\nimport \"./New.css\";\r\nimport api from \"../services/api\";\r\n\r\nclass News extends Component {\r\n\r\n    state = {\r\n        image: null,\r\n        author: '',\r\n        place: '',\r\n        description : '',\r\n        hashtags: ''\r\n    }\r\n\r\n    handleSubmit = async e =>{\r\n        e.preventDefault();\r\n        const data = new FormData();\r\n        data.append('image',this.state.image);\r\n        data.append('author',this.state.author);\r\n        data.append('place',this.state.place);\r\n        data.append('description',this.state.description);\r\n        data.append('hashtags',this.state.hashtags);\r\n        console.log(this.state.image);\r\n        await api.post(\"posts\",data);\r\n        this.props.history.push(\"/\");\r\n        \r\n    }\r\n\r\n    handleChange = e =>{\r\n        this.setState({[e.target.name]: e.target.value});\r\n    }\r\n\r\n    handleimageChange = e=>{\r\n        this.setState({image: e.target.files[0]})\r\n    }\r\n    render() {\r\n        return (\r\n            <form id=\"new-post\" onSubmit={this.handleSubmit}>\r\n                <input type=\"file\" onChange={this.handleimageChange} />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"author\"\r\n                    placeholder=\"Autor do post\"\r\n                    onChange={this.handleChange}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"place\"\r\n                    placeholder=\"Local do post\"\r\n                    onChange={this.handleChange}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"description\"\r\n                    placeholder=\"Descrição do Post\"\r\n                    onChange={this.handleChange}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"hashtags\"\r\n                    placeholder=\"Hashtags do post\"\r\n                    onChange={this.handleChange}\r\n                />\r\n\r\n            <button type=\"submit\">Enviar</button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Feed from \"./Pages/Feed\";\r\nimport News from \"./Pages/News\";\r\n\r\nfunction Routes() {\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Feed} />\r\n            <Route path=\"/new\" component component={News} />\r\n        </Switch>\r\n    );\r\n} \r\n\r\nexport default Routes;\r\n","import React from 'react'\r\nimport \"./Header.css\";\r\nimport logo from \"../assets/logo.svg\";\r\nimport camera from \"../assets/camera.svg\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Header() {\r\n    return (\r\n        <div id=\"main-header\">\r\n            <div className=\"header-content\">\r\n                <Link to=\"/\">\r\n                    <img src={logo} alt=\"instaRockect\" />\r\n                </Link>\r\n                <Link to=\"/new\">\r\n                    <img src={camera} alt=\"enviar publicação\" />\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\nimport Routes from \"./routes\";\nimport { HashRouter } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <Header />\n        <Routes />\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./global.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA","module.exports = __webpack_public_path__ + \"static/media/more.22d960a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.00e13584.svg\";","module.exports = __webpack_public_path__ + \"static/media/comment.e2a49935.svg\";","module.exports = __webpack_public_path__ + \"static/media/send.55e74cfd.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.83fd0bcc.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera.787c6af9.svg\";"],"sourceRoot":""}